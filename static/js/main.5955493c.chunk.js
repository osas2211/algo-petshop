(this["webpackJsonpalgorand-pet-shop"]=this["webpackJsonpalgorand-pet-shop"]||[]).push([[0],{17:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return o})),t.d(n,"e",(function(){return s})),t.d(n,"d",(function(){return i})),t.d(n,"b",(function(){return l})),t.d(n,"c",(function(){return u}));var a=t(8),r=t(114),c=t.n(r),o=function(n){return e.from(n,"base64").toString("utf-8")},s=function(n){return e.from(n,"utf8").toString("base64")},i=function(e){if(e)return e.slice(0,5)+"..."+e.slice(e.length-5,e.length)},l=function(e){if(e)return new c.a(e).shiftedBy(-a.a).toFixed(3)},u=function(e){if(e)return new c.a(e).shiftedBy(a.a).toNumber()}}).call(this,t(16).Buffer)},175:function(e,n,t){"use strict";n.a='#pragma version 6\ntxn ApplicationID\nint 0\n==\nbnz main_l6\ntxn OnCompletion\nint DeleteApplication\n==\nbnz main_l5\ntxna ApplicationArgs 0\nbyte "newFee"\n==\nbnz main_l4\nerr\nmain_l4:\nbyte "FEE"\napp_global_get\nstore 0\ntxn NumAppArgs\nint 2\n==\nassert\ntxna ApplicationArgs 1\nbtoi\nint 0\n>\nassert\nload 0\ntxna ApplicationArgs 1\nbtoi\n!=\nassert\nbyte "FEE"\ntxna ApplicationArgs 1\nbtoi\napp_global_put\nint 1\nreturn\nmain_l5:\ntxn Sender\nglobal CreatorAddress\n==\nreturn\nmain_l6:\ntxn NumAppArgs\nint 1\n==\nassert\ntxn Note\nbyte "pet-shop:uModv2"\n==\nassert\ntxna ApplicationArgs 0\nbtoi\nint 0\n>\nassert\nbyte "FEE"\ntxna ApplicationArgs 0\nbtoi\napp_global_put\nint 1\nreturn'},176:function(e,n,t){"use strict";n.a="#pragma version 6\nint 1\nreturn"},177:function(e,n,t){"use strict";n.a='#pragma version 6\ntxn ApplicationID\nint 0\n==\nbnz main_l9\ntxn OnCompletion\nint DeleteApplication\n==\nbnz main_l8\ntxna ApplicationArgs 0\nbyte "adopt"\n==\nbnz main_l4\nerr\nmain_l4:\nbyte "OWNER"\napp_global_get\nstore 0\nglobal GroupSize\nint 2\n==\ntxn GroupIndex\nint 0\n==\n&&\ntxn NumApplications\nint 1\n==\n&&\ntxn NumAppArgs\nint 2\n==\n&&\nload 0\ntxna ApplicationArgs 1\n!=\n&&\nassert\ntxna Applications 1\nbyte "FEE"\napp_global_get_ex\nstore 2\nstore 1\nload 2\nbnz main_l7\nbyte "ADOPT_FEE"\nint 0\napp_global_put\nmain_l6:\nbyte "ADOPT_FEE"\napp_global_get\nint 0\n>\ngtxn 1 TypeEnum\nint pay\n==\n&&\ngtxn 1 Receiver\nglobal CreatorAddress\n==\n&&\ngtxn 1 Amount\nbyte "ADOPT_FEE"\napp_global_get\n==\n&&\ngtxn 1 Sender\ngtxn 0 Sender\n==\n&&\nassert\nbyte "ADOPTED"\nint 1\napp_global_put\nbyte "OWNER"\ntxna ApplicationArgs 1\napp_global_put\nint 1\nreturn\nmain_l7:\nbyte "ADOPT_FEE"\nload 1\napp_global_put\nb main_l6\nmain_l8:\ntxn Sender\nglobal CreatorAddress\n==\nreturn\nmain_l9:\ntxn NumAppArgs\nint 6\n==\nassert\ntxn Note\nbyte "pet-shop:uPetsv2"\n==\nassert\nbyte "NAME"\ntxna ApplicationArgs 0\napp_global_put\nbyte "IMAGE"\ntxna ApplicationArgs 1\napp_global_put\nbyte "AGE"\ntxna ApplicationArgs 2\napp_global_put\nbyte "BREED"\ntxna ApplicationArgs 3\napp_global_put\nbyte "LOCATION"\ntxna ApplicationArgs 4\napp_global_put\nbyte "ADOPTED"\nint 0\napp_global_put\nbyte "OWNER"\ntxna ApplicationArgs 5\napp_global_put\nint 1\nreturn'},178:function(e,n,t){"use strict";n.a="#pragma version 6\nint 1\nreturn"},186:function(e,n,t){},208:function(e,n){},210:function(e,n){},220:function(e,n){},222:function(e,n){},249:function(e,n){},251:function(e,n){},252:function(e,n){},257:function(e,n){},259:function(e,n){},278:function(e,n){},290:function(e,n){},293:function(e,n){},315:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(34),o=t.n(c),s=t(11),i=t(5),l=t(6),u=t.n(l),d=t(170),p=t(1),b=function(e){e.name;var n=e.coverImg,t=e.connect;return Object(p.jsxs)("div",{className:"d-flex justify-content-center flex-column text-center bg-black min-vh-100",children:[Object(p.jsxs)("div",{className:"mt-auto text-light mb-5",children:[Object(p.jsx)("div",{className:" ratio ratio-1x1 mx-auto mb-2",style:{maxWidth:"320px"},children:Object(p.jsx)("img",{src:n,alt:""})}),Object(p.jsx)("p",{children:"Please connect your wallet to continue."}),Object(p.jsx)(d.a,{onClick:function(){return t()},variant:"outline-light",className:"rounded-pill px-3 mt-3",children:"Connect Wallet"})]}),Object(p.jsx)("p",{className:"mt-auto text-secondary",children:"Powered by Algorand"})]})},j=(t(186),t(324)),x=t(321),f=t(329),O=t(17),m=t(2),h=t(3),g=t(172),v=t.n(g),w=["size","address"],y=function(e){var n=e.size,t=e.address,a=Object(h.a)(e,w);return Object(p.jsx)("div",Object(m.a)(Object(m.a)({},a),{},{style:{width:"".concat(n,"px"),height:"".concat(n,"px")},children:Object(p.jsx)(v.a,{diameter:n,seed:parseInt(t.slice(2,10),16)})}))},A=function(e){var n=e.address,t=e.name,a=e.amount,r=e.symbol,c=e.disconnect;return n?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(j.a,{children:[Object(p.jsxs)(j.a.Toggle,{variant:"light",align:"end",id:"dropdown-basic",className:"d-flex align-items-center border rounded-pill py-1",children:[a?Object(p.jsxs)(p.Fragment,{children:[Object(O.b)(a),Object(p.jsxs)("span",{className:"ms-1",children:[" ",r]})]}):Object(p.jsx)(x.a,{animation:"border",size:"sm",className:"opacity-25"}),Object(p.jsx)(y,{address:n,size:28,className:"ms-2 me-1"})]}),Object(p.jsxs)(j.a.Menu,{className:"shadow-lg border-0",children:[Object(p.jsx)(j.a.Item,{href:"https://testnet.algoexplorer.io/address/".concat(n),target:"_blank",children:Object(p.jsxs)(f.a,{direction:"horizontal",gap:2,children:[Object(p.jsx)("i",{className:"bi bi-person-circle fs-4"}),Object(p.jsxs)("div",{className:"d-flex flex-column",children:[t&&Object(p.jsx)("span",{className:"font-monospace",children:t}),Object(p.jsx)("span",{className:"font-monospace",children:Object(O.d)(n)})]})]})}),Object(p.jsx)(j.a.Divider,{}),Object(p.jsxs)(j.a.Item,{as:"button",className:"d-flex align-items-center",onClick:function(){c()},children:[Object(p.jsx)("i",{className:"bi bi-box-arrow-right me-2 fs-4"}),"Disconnect"]})]})]})}):null},k=t(323),N=t(327),C=t(23),T=t(325),E=t(326),F=t(174),I=function(e){var n=e.createPet,t=Object(a.useState)(""),r=Object(i.a)(t,2),c=r[0],o=r[1],l=Object(a.useState)(""),b=Object(i.a)(l,2),j=b[0],x=b[1],f=Object(a.useState)(""),O=Object(i.a)(f,2),m=O[0],h=O[1],g=Object(a.useState)(""),v=Object(i.a)(g,2),w=v[0],y=v[1],A=Object(a.useState)(""),k=Object(i.a)(A,2),N=k[0],C=k[1],I=Object(a.useCallback)((function(){return c&&j&&m&&w&&N}),[c,j,m,w,N]),_=Object(a.useState)(!1),P=Object(i.a)(_,2),S=P[0],D=P[1],B=function(){return D(!1)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.a,{onClick:function(){return D(!0)},variant:"dark",className:"rounded-pill px-0",style:{width:"38px"},children:Object(p.jsx)("i",{className:"bi bi-plus"})}),Object(p.jsxs)(T.a,{show:S,onHide:B,centered:!0,children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"New Pet"})}),Object(p.jsx)(E.a,{children:Object(p.jsxs)(T.a.Body,{children:[Object(p.jsx)(F.a,{controlId:"inputName",label:"Pet name",className:"mb-3",children:Object(p.jsx)(E.a.Control,{type:"text",onChange:function(e){o(e.target.value)},placeholder:"Enter name of pet"})}),Object(p.jsx)(F.a,{controlId:"inputUrl",label:"Image URL",className:"mb-3",children:Object(p.jsx)(E.a.Control,{type:"text",placeholder:"Image URL",onChange:function(e){x(e.target.value)}})}),Object(p.jsx)(F.a,{controlId:"inputBreed",label:"Breed",className:"mb-3",children:Object(p.jsx)(E.a.Control,{type:"text",placeholder:"breed",onChange:function(e){h(e.target.value)}})}),Object(p.jsx)(F.a,{controlId:"inputAge",label:"Age",className:"mb-3",children:Object(p.jsx)(E.a.Control,{type:"text",placeholder:"age",onChange:function(e){y(e.target.value)}})}),Object(p.jsx)(F.a,{controlId:"inputLocation",label:"Location",className:"mb-3",children:Object(p.jsx)(E.a.Control,{type:"text",placeholder:"Location",onChange:function(e){C(e.target.value)}})})]})}),Object(p.jsxs)(T.a.Footer,{children:[Object(p.jsx)(d.a,{variant:"outline-secondary",onClick:B,children:"Close"}),Object(p.jsx)(d.a,{variant:"dark",disabled:!I(),onClick:Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n({name:c,image:j,breed:m,age:w,location:N});case 3:B(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:"Add Pet"})]})]})]})},_=t(173),P=t(328),S=function(e){var n=e.address,t=e.pet,a=e.adoptPet,r=e.deletePet,c=t.appId,o=t.name,s=t.image,i=t.age,l=t.breed,u=t.location,b=t.adopted,j=t.owner,x=t.fee,m=t.appCreator;console.log(x);var h=function(){return 1===b};return Object(p.jsx)(_.a,{children:Object(p.jsxs)(P.a,{className:"h-100",children:[Object(p.jsx)(P.a.Header,{children:Object(p.jsxs)(f.a,{direction:"horizontal",gap:2,children:[Object(p.jsx)(y,{size:28,address:j}),Object(p.jsx)("span",{className:"font-monospace text-secondary",children:Object(p.jsx)("a",{href:"https://testnet.algoexplorer.io/address/".concat(j),target:"_blank",rel:"noreferrer",children:h()?Object(O.d)(j):"AVAILABLE"})})]})}),Object(p.jsx)("div",{className:"ratio ratio-4x3",children:Object(p.jsx)("img",{src:s,alt:o,style:{objectFit:"cover"}})}),Object(p.jsxs)(P.a.Body,{className:"d-flex flex-column text-center",children:[Object(p.jsx)(P.a.Title,{children:o}),Object(p.jsxs)(P.a.Text,{className:"flex-grow-1",children:[Object(p.jsx)("strong",{children:"Breed"}),": ",l]}),Object(p.jsxs)(P.a.Text,{className:"flex-grow-1",children:[Object(p.jsx)("i",{className:"bi bi-calendar"})," ",Object(p.jsx)("strong",{children:"Age"}),": ",i]}),Object(p.jsxs)(P.a.Text,{className:"flex-grow-1",children:[Object(p.jsx)("i",{className:"bi bi-geo-alt"})," ",Object(p.jsx)("strong",{children:"Location"}),":"," ",u]}),Object(p.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(p.jsx)(d.a,{variant:"outline-dark",onClick:function(){return a(t)},className:"w-75 py-3",disabled:h(),children:h()?"Adopted":"Adopt ".concat(o)}),Object(p.jsx)(d.a,{variant:"outline-danger",onClick:function(){return r(t)},className:"btn",disabled:!(n===j||n===m),children:Object(p.jsx)("i",{className:"bi bi-trash"})})]})]})]})},c)},D=function(e){var n=e.createMod,t=e.updateFee,r=e.modContract,c=Object(a.useState)(0),o=Object(i.a)(c,2),l=o[0],b=o[1],j=Object(a.useCallback)((function(){return l>0}),[l]),x=Object(a.useState)(!1),f=Object(i.a)(x,2),m=f[0],h=f[1],g=function(){return h(!1)},v=Object(a.useState)(!1),w=Object(i.a)(v,2),y=w[0],A=w[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.a,{onClick:function(){return A(!0)},variant:"dark",className:"rounded-pill px-0",style:{width:"38px"},children:Object(p.jsx)("i",{className:"bi bi-cash-coin"})}),Number(r.adoptFee)>0?Object(p.jsx)(p.Fragment,{children:" "}):Object(p.jsx)(d.a,{onClick:function(){return h(!0)},variant:"dark",className:"rounded-pill px-0",style:{width:"38px"},children:Object(p.jsx)("i",{className:"bi bi-file-earmark-plus-fill"})}),Object(p.jsxs)(T.a,{show:m,onHide:g,centered:!0,children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"Create Mod Contract"})}),Object(p.jsx)(E.a,{children:Object(p.jsx)(T.a.Body,{children:Object(p.jsx)(F.a,{controlId:"inputPrice",label:"Fee in ALGO",className:"mb-3",children:Object(p.jsx)(E.a.Control,{type:"text",placeholder:"Adoption Fee",onChange:function(e){b(Object(O.c)(e.target.value))}})})})}),Object(p.jsxs)(T.a.Footer,{children:[Object(p.jsx)(d.a,{variant:"outline-secondary",onClick:g,children:"Close"}),Object(p.jsx)(d.a,{variant:"dark",disabled:!j(),onClick:Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(l);case 3:g(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:"New Mod"})]})]}),Object(p.jsxs)(T.a,{show:y,onHide:function(){return A(!1)},centered:!0,children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"Update Pet Shop Fee"})}),Object(p.jsx)(E.a,{children:Object(p.jsx)(T.a.Body,{children:Object(p.jsx)(F.a,{controlId:"inputPrice",label:"Fee in ALGO",className:"mb-3",children:Object(p.jsx)(E.a.Control,{type:"text",placeholder:"Adoption Fee",onChange:function(e){b(Object(O.c)(e.target.value))}})})})}),Object(p.jsxs)(T.a.Footer,{children:[Object(p.jsx)(d.a,{variant:"outline-secondary",onClick:g,children:"Close"}),Object(p.jsx)(d.a,{variant:"dark",disabled:!j(),onClick:Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(l);case 3:g(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:"Update Fee"})]})]})]})},B=function(){return Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsx)(x.a,{animation:"border",role:"status",className:"opacity-25",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},L=function(){return Object(p.jsx)(C.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!1,pauseOnHover:!0})},M=function(e){var n=e.text;return Object(p.jsxs)("div",{children:[Object(p.jsx)("i",{className:"bi bi-check-circle-fill text-success mx-2"}),Object(p.jsx)("span",{className:"text-secondary mx-1",children:n})]})},G=function(e){var n=e.text;return Object(p.jsxs)("div",{children:[Object(p.jsx)("i",{className:"bi bi-x-circle-fill text-danger mx-2"}),Object(p.jsx)("span",{className:"text-secondary mx-1",children:n})]})},R={text:""};M.defaultProps=R,G.defaultProps=R;var z=t(89),U=t(72),H=t(322),W=function(e){var n=e.address,t=e.fetchBalance,r=Object(a.useState)([]),c=Object(i.a)(r,2),o=c[0],l=c[1],d=Object(a.useState)({appId:"a",adoptFee:0}),b=Object(i.a)(d,2),j=b[0],x=b[1],f=Object(a.useState)(!1),m=Object(i.a)(f,2),h=m[0],g=m[1],v=Object(a.useState)(!1),w=Object(i.a)(v,2),y=w[0],A=w[1],k=Object(a.useState)(!1),N=Object(i.a)(k,2),T=N[0],E=N[1],F=Object(a.useCallback)(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),Object(U.d)().then((function(e){e&&(g(!0),l(e))})).catch((function(e){console.log(e)})).finally((function(e){A(!0),g(!1)}));case 2:case"end":return e.stop()}}),e)}))),[]),_=Object(a.useCallback)(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(z.b)().then((function(e){e&&x(e)})).catch((function(e){console.log(e)})).finally((function(e){E(!0)}));case 1:case"end":return e.stop()}}),e)}))),[]),P=function(){var e=Object(s.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),Object(U.b)(n,a).then(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(C.b)(Object(p.jsx)(M,{text:"Pet added successfully."})),e.next=3,F();case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e),Object(C.b)(Object(p.jsx)(G,{text:"Failed to add pet."}))}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),Object(U.a)(n,a,j).then(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(C.b)(Object(p.jsx)(M,{text:"Pet adopted successfully"})),e.next=3,F();case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e),Object(C.b)(Object(p.jsx)(G,{text:"Failed to adopt pet."})),g(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),R=function(){var e=Object(s.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),Object(U.c)(n,a.appId).then(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(C.b)(Object(p.jsx)(M,{text:"Pet deleted successfully"})),e.next=3,F();case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e),Object(C.b)(Object(p.jsx)(G,{text:"Failed to delete pet."})),g(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),Object(z.a)(n,a).then(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(C.b)(Object(p.jsx)(M,{text:"Mod contract created successfully."})),e.next=3,_();case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e),Object(C.b)(Object(p.jsx)(G,{text:"Failed to create mod contract."})),g(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(){var e=Object(s.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),Object(z.c)(n,j,a).then(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(C.b)(Object(p.jsx)(M,{text:"Adoption Fee updated successfully"})),e.next=3,_();case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e),Object(C.b)(Object(p.jsx)(G,{text:"Failed to update fee"})),g(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=!1;return e||T||y||(F(e),_(e)),function(){e=!0}}),[T,y,F,_]),h?Object(p.jsx)(B,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[Object(p.jsx)("h1",{className:"fs-4 fw-bold mb-0",children:"ALGO PET SHOP"}),Object(p.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(p.jsx)(I,{createPet:P}),Object(p.jsx)(D,{createMod:W,updateFee:J,modContract:j})]})]}),Object(p.jsx)("div",{className:"text-start container",children:Object(p.jsx)("div",{id:"adoptionNotice",className:"mb-4",style:{marginTop:"1em"},children:Object(p.jsxs)("span",{children:[Object(p.jsx)("i",{className:"bi bi-bell-fill"})," Adoption Fee is"," ",j.adoptFee?Object(O.b)(j.adoptFee):0," ","ALGO"]})})}),Object(p.jsx)(H.a,{xs:1,sm:2,lg:3,className:"g-3 mb-5 g-xl-4 g-xxl-5",children:Object(p.jsx)(p.Fragment,{children:o.map((function(e,t){return Object(p.jsx)(S,{address:n,pet:e,adoptPet:L,deletePet:R},t)}))})})]})},J=t(8),Q=t.p+"static/media/petshop.0b59a906.jpg",K=function(){var e=Object(a.useState)(null),n=Object(i.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(null),o=Object(i.a)(c,2),l=o[0],d=o[1],j=Object(a.useState)(0),x=Object(i.a)(j,2),f=x[0],O=x[1],m=function(){var e=Object(s.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J.c.lookupAccountByID(n).do().then((function(e){var n=e.account.amount;O(n)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J.g.connect().then((function(e){var n=e[0];r(n.address),d(n.name),m(n.address)})).catch((function(e){console.log("Could not connect to MyAlgo wallet"),console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(L,{}),t?Object(p.jsxs)(k.a,{fluid:"md",children:[Object(p.jsx)(N.a,{className:"justify-content-end pt-3 pb-5",children:Object(p.jsx)(N.a.Item,{children:Object(p.jsx)(A,{address:t,name:l,amount:f,disconnect:function(){r(null),d(null),O(null)},symbol:"ALGO"})})}),Object(p.jsx)("main",{children:Object(p.jsx)(W,{address:t,fetchBalance:m})})]}):Object(p.jsx)(b,{name:"Street Food",coverImg:Q,connect:h})]})},V=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,330)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),a(e),r(e),c(e),o(e)}))};t(312),t(313),t(314);o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(K,{})}),document.getElementById("root")),V()},72:function(e,n,t){"use strict";(function(e){t.d(n,"b",(function(){return O})),t.d(n,"a",(function(){return m})),t.d(n,"c",(function(){return h})),t.d(n,"d",(function(){return g}));var a=t(42),r=t(11),c=t(41),o=t(40),s=t(6),i=t.n(s),l=t(14),u=t.n(l),d=t(8),p=t(177),b=t(178),j=t(17),x=Object(c.a)((function e(n,t,a,r,c,s,i,l,u,d){Object(o.a)(this,e),this.appId=n,this.name=t,this.image=a,this.age=r,this.breed=c,this.location=s,this.adopted=i,this.owner=l,this.fee=u,this.appCreator=d})),f=function(){var n=Object(r.a)(i.a.mark((function n(t){var a,r,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new TextEncoder,r=a.encode(t),n.next=4,d.b.compile(r).do();case 4:return c=n.sent,n.abrupt("return",new Uint8Array(e.from(c.result,"base64")));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),O=function(){var e=Object(r.a)(i.a.mark((function e(n,t){var a,r,c,o,s,l,j,x,O,m,h,g,v,w,y,A,k;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Adding Pet..."),e.next=3,d.b.getTransactionParams().do();case 3:return a=e.sent,e.next=6,f(p.a);case 6:return r=e.sent,e.next=9,f(b.a);case 9:return c=e.sent,o=(new TextEncoder).encode(d.p),s=(new TextEncoder).encode(t.name),l=(new TextEncoder).encode(t.image),j=(new TextEncoder).encode(t.age),x=(new TextEncoder).encode(t.breed),O=(new TextEncoder).encode(t.location),m=(new TextEncoder).encode(n),h=[s,l,j,x,O,m],g=u.a.makeApplicationCreateTxnFromObject({from:n,suggestedParams:a,onComplete:u.a.OnApplicationComplete.NoOpOC,approvalProgram:r,clearProgram:c,numLocalInts:d.k,numLocalByteSlices:d.j,numGlobalInts:d.i,numGlobalByteSlices:d.h,note:o,appArgs:h}),v=g.txID().toString(),e.next=22,d.g.signTransaction(g.toByte());case 22:return w=e.sent,console.log("Signed transaction with txID: %s",v),e.next=26,d.b.sendRawTransaction(w.blob).do();case 26:return e.next=28,u.a.waitForConfirmation(d.b,v,4);case 28:return y=e.sent,console.log("Transaction "+v+" confirmed in round "+y["confirmed-round"]),e.next=32,d.b.pendingTransactionInformation(v).do();case 32:return A=e.sent,k=A["application-index"],console.log("Created new app-id: ",k),e.abrupt("return",k);case 36:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=Object(r.a)(i.a.mark((function e(n,t,a){var r,c,o,s,l,p,b,j,x,f,O,m,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Adopting pet..."),e.next=3,d.b.getTransactionParams().do();case 3:for(r=e.sent,c=(new TextEncoder).encode("adopt"),o=(new TextEncoder).encode(n),s=[c,o],l=[a.appId],p=u.a.makeApplicationCallTxnFromObject({from:n,appIndex:t.appId,onComplete:u.a.OnApplicationComplete.NoOpOC,suggestedParams:r,appArgs:s,foreignApps:l}),b=u.a.makePaymentTxnWithSuggestedParamsFromObject({from:n,to:t.appCreator,amount:a.adoptFee,suggestedParams:r}),console.log("here."),j=[p,b],x=u.a.computeGroupID(j),f=0;f<2;f++)j[f].group=x;return e.next=16,d.g.signTransaction(j.map((function(e){return e.toByte()})));case 16:return O=e.sent,console.log("Signed group transaction"),e.next=20,d.b.sendRawTransaction(O.map((function(e){return e.blob}))).do();case 20:return m=e.sent,e.next=23,u.a.waitForConfirmation(d.b,m.txId,4);case 23:h=e.sent,console.log("Group transaction "+m.txId+" confirmed in round "+h["confirmed-round"]);case 25:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(r.a)(i.a.mark((function e(n,t){var a,r,c,o,s,l,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Deleting application"),e.next=3,d.b.getTransactionParams().do();case 3:return a=e.sent,r=u.a.makeApplicationDeleteTxnFromObject({from:n,suggestedParams:a,appIndex:t}),c=r.txID().toString(),e.next=8,d.g.signTransaction(r.toByte());case 8:return o=e.sent,console.log("Signed transaction with txID: %s",c),e.next=12,d.b.sendRawTransaction(o.blob).do();case 12:return e.next=14,u.a.waitForConfirmation(d.b,c,4);case 14:return s=e.sent,console.log("Transaction "+c+" confirmed in round "+s["confirmed-round"]),e.next=18,d.b.pendingTransactionInformation(c).do();case 18:l=e.sent,p=l.txn.txn.apid,console.log("Deleted app-id: ",p);case 21:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),g=function(){var n=Object(r.a)(i.a.mark((function n(){var t,r,c,o,s,l,u,p,b;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Fetching Pets..."),t=(new TextEncoder).encode(d.p),r=e.from(t).toString("base64"),n.next=5,d.c.searchForTransactions().notePrefix(r).txType("appl").minRound(d.d).do();case 5:c=n.sent,o=[],s=Object(a.a)(c.transactions),n.prev=8,s.s();case 10:if((l=s.n()).done){n.next=20;break}if(u=l.value,!(p=u["created-application-index"])){n.next=18;break}return n.next=16,v(p);case 16:(b=n.sent)&&o.push(b);case 18:n.next=10;break;case 20:n.next=25;break;case 22:n.prev=22,n.t0=n.catch(8),s.e(n.t0);case 25:return n.prev=25,s.f(),n.finish(25);case 28:return console.log("Pets Fetched..."),n.abrupt("return",o);case 30:case"end":return n.stop()}}),n,null,[[8,22,25,28]])})));return function(){return n.apply(this,arguments)}}(),v=function(){var e=Object(r.a)(i.a.mark((function e(n){var t,a,r,c,o,s,l,u,p,b,f,O,m,h,g,v,y;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.c.lookupApplications(n).includeAll(!0).do();case 3:if(!(t=e.sent).application.deleted){e.next=6;break}return e.abrupt("return",null);case 6:return a=t.application.params["global-state"],r=t.application.params.creator,c="",o="",s="",l="",u="",p=0,b="",f=0,void 0!==w("NAME",a)&&(O=w("NAME",a).value.bytes,c=Object(j.a)(O)),void 0!==w("IMAGE",a)&&(m=w("IMAGE",a).value.bytes,o=Object(j.a)(m)),void 0!==w("AGE",a)&&(h=w("AGE",a).value.bytes,s=Object(j.a)(h)),void 0!==w("BREED",a)&&(g=w("BREED",a).value.bytes,l=Object(j.a)(g)),void 0!==w("LOCATION",a)&&(v=w("LOCATION",a).value.bytes,u=Object(j.a)(v)),void 0!==w("ADOPTED",a)&&(p=w("ADOPTED",a).value.uint),void 0!==w("OWNER",a)&&(y=w("OWNER",a).value.bytes,b=Object(j.a)(y)),void 0!==w("ADOPT_FEE",a)&&(f=w("ADOPT_FEE",a).value.uint),e.abrupt("return",new x(n,c,o,s,l,u,p,b,f,r));case 27:return e.prev=27,e.t0=e.catch(0),e.abrupt("return",null);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(n){return e.apply(this,arguments)}}(),w=function(e,n){return n.find((function(n){return n.key===Object(j.e)(e)}))}}).call(this,t(16).Buffer)},8:function(e,n,t){"use strict";t.d(n,"b",(function(){return b})),t.d(n,"c",(function(){return j})),t.d(n,"g",(function(){return x})),t.d(n,"d",(function(){return f})),t.d(n,"p",(function(){return O})),t.d(n,"k",(function(){return m})),t.d(n,"j",(function(){return h})),t.d(n,"i",(function(){return g})),t.d(n,"h",(function(){return v})),t.d(n,"a",(function(){return w})),t.d(n,"e",(function(){return y})),t.d(n,"o",(function(){return A})),t.d(n,"n",(function(){return k})),t.d(n,"m",(function(){return N})),t.d(n,"l",(function(){return C})),t.d(n,"f",(function(){return T}));var a=t(14),r=t.n(a),c=t(171),o=t.n(c),s="",i="https://node.testnet.algoexplorerapi.io",l="",u="",d="https://algoindexer.testnet.algoexplorerapi.io",p="",b=new r.a.Algodv2(s,i,l),j=new r.a.Indexer(u,d,p),x=new o.a,f=21540981,O="pet-shop:uPetsv2",m=0,h=0,g=2,v=6,w=6,y="pet-shop:uModv2",A=0,k=0,N=1,C=0,T="36EC6PQ47JIH4IFT5WE5QT3FETNFJU6IEUKQ6B6XAB5Y25EICQLT4REMSE"},89:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return O})),t.d(n,"c",(function(){return m})),t.d(n,"b",(function(){return h}));var a=t(42),r=t(11),c=t(41),o=t(40),s=t(6),i=t.n(s),l=t(14),u=t.n(l),d=t(8),p=t(175),b=t(176),j=t(17),x=Object(c.a)((function e(n,t){Object(o.a)(this,e),this.appId=n,this.adoptFee=t})),f=function(){var n=Object(r.a)(i.a.mark((function n(t){var a,r,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new TextEncoder,r=a.encode(t),n.next=4,d.b.compile(r).do();case 4:return c=n.sent,n.abrupt("return",new Uint8Array(e.from(c.result,"base64")));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),O=function(){var e=Object(r.a)(i.a.mark((function e(n,t){var a,r,c,o,s,l,j,x,O,m,h,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Creating Mod Contract..."),e.next=3,d.b.getTransactionParams().do();case 3:return a=e.sent,e.next=6,f(p.a);case 6:return r=e.sent,e.next=9,f(b.a);case 9:return c=e.sent,o=(new TextEncoder).encode(d.e),s=u.a.encodeUint64(t),l=[s],j=u.a.makeApplicationCreateTxnFromObject({from:n,suggestedParams:a,onComplete:u.a.OnApplicationComplete.NoOpOC,approvalProgram:r,clearProgram:c,numLocalInts:d.o,numLocalByteSlices:d.n,numGlobalInts:d.m,numGlobalByteSlices:d.l,note:o,appArgs:l}),x=j.txID().toString(),e.next=17,d.g.signTransaction(j.toByte());case 17:return O=e.sent,console.log("Signed transaction with txID: %s",x),e.next=21,d.b.sendRawTransaction(O.blob).do();case 21:return e.next=23,u.a.waitForConfirmation(d.b,x,4);case 23:return m=e.sent,console.log("Transaction "+x+" confirmed in round "+m["confirmed-round"]),e.next=27,d.b.pendingTransactionInformation(x).do();case 27:return h=e.sent,g=h["application-index"],console.log("Created new app-id: ",g),e.abrupt("return",g);case 31:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=Object(r.a)(i.a.mark((function e(n,t,a){var r,c,o,s,l,p,b,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Updating Price...."),e.next=3,d.b.getTransactionParams().do();case 3:return r=e.sent,c=u.a.encodeUint64(a),o=(new TextEncoder).encode("newFee"),s=[o,c],l=u.a.makeApplicationCallTxnFromObject({from:n,appIndex:t.appId,onComplete:u.a.OnApplicationComplete.NoOpOC,suggestedParams:r,appArgs:s}),p=l.txID().toString(),e.next=11,d.g.signTransaction(l.toByte());case 11:return b=e.sent,console.log("Signed transaction with txID: %s",p),e.next=15,d.b.sendRawTransaction(b.blob).do();case 15:return e.next=17,u.a.waitForConfirmation(d.b,p,4);case 17:j=e.sent,console.log("Transaction "+p+" confirmed in round "+j["confirmed-round"]);case 19:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),h=function(){var n=Object(r.a)(i.a.mark((function n(){var t,r,c,o,s,l,u,p,b;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Fetching Mod Contract..."),t=(new TextEncoder).encode(d.e),r=e.from(t).toString("base64"),n.next=5,d.c.searchForTransactions().notePrefix(r).txType("appl").minRound(d.d).address(d.f).do();case 5:c=n.sent,s=Object(a.a)(c.transactions),n.prev=7,s.s();case 9:if((l=s.n()).done){n.next=21;break}if(u=l.value,!(p=u["created-application-index"])){n.next=19;break}return n.next=15,g(p);case 15:if(!(b=n.sent)){n.next=19;break}return o=b,n.abrupt("break",21);case 19:n.next=9;break;case 21:n.next=26;break;case 23:n.prev=23,n.t0=n.catch(7),s.e(n.t0);case 26:return n.prev=26,s.f(),n.finish(26);case 29:return console.log("Mod contract fetched.."),n.abrupt("return",o);case 31:case"end":return n.stop()}}),n,null,[[7,23,26,29]])})));return function(){return n.apply(this,arguments)}}(),g=function(){var e=Object(r.a)(i.a.mark((function e(n){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.c.lookupApplications(n).includeAll(!0).do();case 3:if(!(t=e.sent).application.deleted){e.next=6;break}return e.abrupt("return",null);case 6:return a=t.application.params["global-state"],r=0,void 0!==v("FEE",a)&&(r=v("FEE",a).value.uint),e.abrupt("return",new x(n,r));case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}(),v=function(e,n){return n.find((function(n){return n.key===Object(j.e)(e)}))}}).call(this,t(16).Buffer)}},[[315,1,2]]]);
//# sourceMappingURL=main.5955493c.chunk.js.map